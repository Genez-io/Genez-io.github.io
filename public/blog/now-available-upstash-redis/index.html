<!DOCTYPE html>
<html lang="en">

<head>
  
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5ZPQL3Z');</script>
  

   <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11335989676"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-11335989676'); </script>
   <script> gtag('event', 'conversion', {'send_to': 'AW-11335989676/Vn9zCMKshYEZEKzztZ0q'}); </script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>genezio | Now Available: Upstash Redis</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#6f42c1" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#6f42c1" media="(prefers-color-scheme: dark)">

  
  
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120-precomposed.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152-precomposed.png" />

  
  
  <link rel="canonical" href="/blog/now-available-upstash-redis/" />
  



  
  <meta name="description" content="Learn how to integrate a Redis database into your project. Upstash Redis simplifies data storage and access, making it a natural fit for serverless web applications and cloud-native architectures.">
  <meta property="og:title" content="Now Available: Upstash Redis" />
  <meta property="og:description" content="Learn how to integrate a Redis database into your project. Upstash Redis simplifies data storage and access, making it a natural fit for serverless web applications and cloud-native architectures." />
  <meta property="og:image" content="https://genez.io/images/announcing_upstash.jpg" />
  <meta property="og:url" content="https://genez.io/blog/now-available-upstash-redis" />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@GenezioNetwork" />
  <meta name="twitter:creator" content="@GenezioNetwork" />
  <meta name="twitter:title" content="Now Available: Upstash Redis" />
  <meta name="twitter:description" content="Learn how to integrate a Redis database into your project. Upstash Redis simplifies data storage and access, making it a natural fit for serverless web applications and cloud-native architectures." />
  <meta name="robots" content="index,follow">
  




  
  
  <link rel="stylesheet" href="/css/style.min.f1ce87c748a07a08745d041c9860b6b8c6c175e6809b9e176ddc4ecb73ef38cc.css">
  

  
  


  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VR905VXGKC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-VR905VXGKC');
  </script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-11377331429">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'AW-11377331429');
</script>
</head>

<body class='page page-posts-single'>
  
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5ZPQL3Z"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  
  <div id="main-menu-mobile" class="main-menu-mobile">
    <ul>
      <li
        class="menu-item-github"
        title="Github">
        <a href="https://github.com/Genez-io/genezio" style="display: flex; justify-content: center;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" style="
          width: 38px;
          height: 38px;
          fill: white;
      "><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>            </a>
            </li>
      <li
        class="menu-item-sign in"
        title="Docs">
        <a class="filled" href="https://docs.genez.io/">
          <span>Docs</span>
        </a>
      </li>
      <li
        class="menu-item-sign in"
        title="Blog">
        <a class="filled" href="/blog/">
          <span>Blog</span>
        </a>
      </li>
      <li
        class="menu-item-sign in"
        title="Sign In">
        <a class="filled" href="https://app.genez.io/auth/login">
          <span>Login </span>
        </a>
      </li>
      <li
        class="menu-item-trt for free"
        title="Try for free">
        <a class="outline start-for-free" href="https://app.genez.io/auth/signup">
          <span>Try for free</span>
        </a>
      </li>
    </ul>
  </div>
  
  <div id="header"
    class='header header-fixed '>
    <div class="container">
      
      <div class="logos">
        
        <div class="logo">
          <a href="/">
            <img height="50px" alt="genezio Logo" src="/images/logo2.svg" />
          </a>
        </div>
        <div class="logo-invert">
          <a href="/">
            <img width="50px" height="40px" alt="genezio Logo" src="/images/logo-invert.svg" />
            <h2>genezio</h2>
          </a>
        </div>
        <div class="logo-mobile">
          <a href="/">
            <img height="30px" width="120px" alt="genezio Logo" src="/images/logo2.svg" />
          </a>
        </div>
        <div class="logo-invert-mobile">
          <a href="/">
            <img width="50px" height="40px" alt="genezio Logo"
              src="/images/logo-invert-mobile.svg" />
          </a>
        </div>
      </div>
      

      
      <div id="menu-main" class="menu-main">
        <ul>
          <li
            class="menu-item-github"
            title="Github">
            <a href="https://github.com/Genez-io/genezio" target="_blank">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" style="
              width: 38px;
              height: 38px;
              fill: white;
          "><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>            </a>
          
        
        </li>
          <li
            class="menu-item-sign in"
            title="Docs">
            <a class="outline" href="https://docs.genez.io/" target="_blank">
              <span>Docs</span>
            </a>
          </li>
          <li
            class="menu-item-sign in"
            title="Blog">
            <a class="outline" href="/blog/">
              <span>Blog</span>
            </a>
          </li>
          <li
            class="menu-item-sign in"
            title="Sign In">
            <a class="outline" href="https://app.genez.io/auth/login">
              <span>Login</span>
            </a>
          </li>
          <li
            class="menu-item-trt for free"
            title="Try for free">
            <a class="filled start-for-free" href="https://app.genez.io/auth/signup">
              <span>Start for free!</span>
            </a>
          </li>
        </ul>
      </div>
      
      <div id="toggle-main-menu-mobile" class="menu-trigger">
        <button class="hamburger">Menu</button>
      </div>
    </div>
  </div>
  

  
  <div class="wrapper">
    
<div class="strip strip-secondary-light pt-10">
  <div class="container pt-10">
    <div class="row position-relative justify-content-center">
      <div class="col-12 col-lg-8">
        
        <div class="post-tags">
          
          <a class="post-tag" href="/tags/news" target="_blank">News</a>
          
        </div>
        
        <h1>Now Available: Upstash Redis</h1>
        <a class="post-author-name" href="https://www.linkedin.com/in/andreia-irina-ocanoaia/" target="_blank">Andreia Ocanoaia</a>
        <div class="post-date pt-1">
        
            
            <span class="post-date-date">Nov 22, 2023</span>
        
        </div>
      </div>
    </div>
  </div>
</div>

<div class="strip strip-white">
  <div class="container pt-10 pt-md-8 pb-4 pb-md-10">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-8">
        <div class="content"><p>Upstash Redis simplifies data storage and access, making it a natural fit for serverless web applications and cloud-native architectures.
Its key-value store functionality allows for rapid data access, making it ideal for caching frequently accessed data and improving overall application performance.
Redis also supports complex data structures such as lists, sets, and hashes, providing versatility in data modeling.</p>
<p>Today, we are excited to announce the integration with Upstash Redis, a serverless Redis provider, into the genezio platform.
The integration allows you to easily manage and connect Redis databases directly from the genezio dashboard.</p>
<h1 id="use-cases">Use cases</h1>
<h2 id="out-of-the-box-caching-system">Out-of-the-box caching system</h2>
<p>Redis is often used as a caching layer to store frequently accessed data in memory, reducing the need to fetch data from slower disk-based databases. This can significantly improve application performance.</p>
<p>Use genezio classes to implement a boilerplate-free caching system that stores data in Redis.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">GenezioDeploy</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@genezio/types&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Redis</span> <span class="kr">from</span> <span class="s2">&#34;ioredis&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">@GenezioDeploy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">EcommerceCacheService</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">client</span>: <span class="kt">Redis</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Redis</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">REDIS_URL</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">cacheProductDetails</span><span class="p">(</span><span class="nx">productId</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">productDetails</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">boolean</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="sb">`product:</span><span class="si">${</span><span class="nx">productId</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">productDetails</span><span class="p">,</span> <span class="s1">&#39;EX&#39;</span><span class="p">,</span> <span class="nx">expirationInSeconds</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// the rest of the implementation goes here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">getCachedProductDetails</span><span class="p">(</span><span class="nx">productId</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">string</span> <span class="err">|</span> <span class="na">null</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="sb">`product:</span><span class="si">${</span><span class="nx">productId</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">cachedProductDetails</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// the rest of the implementation goes here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="session-storage">Session storage</h2>
<p>Storing session data in Redis is a common practice. Because of its speed, Redis is well-suited for managing user sessions in web applications. It allows for quick and efficient retrieval of user-specific information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">GenezioDeploy</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@genezio/types&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Redis</span> <span class="kr">from</span> <span class="s2">&#34;ioredis&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">@GenezioDeploy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">EcommerceSessionService</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">client</span>: <span class="kt">Redis</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Redis</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">REDIS_URL</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">storeSessionData</span><span class="p">(</span><span class="nx">userId</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">sessionData</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">boolean</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="sb">`user:</span><span class="si">${</span><span class="nx">userId</span><span class="si">}</span><span class="sb">:session`</span><span class="p">,</span> <span class="nx">sessionData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// the rest of the implementation goes here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">getSessionData</span><span class="p">(</span><span class="nx">userId</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">string</span> <span class="err">|</span> <span class="na">null</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">sessionData</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="sb">`user:</span><span class="si">${</span><span class="nx">userId</span><span class="si">}</span><span class="sb">:session`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// the rest of the implementation goes here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="pubsub-messaging">Pub/Sub Messaging</h2>
<p>Redis has built-in support for publish/subscribe messaging patterns. It can be used as a message broker to facilitate communication between different components of a system in a decoupled manner.</p>
<h2 id="rate-limiting">Rate limiting</h2>
<p>Redis can be used to implement rate-limiting mechanisms. By tracking and controlling access rates for different operations, Redis helps prevent abuse and ensures the stability and performance of an application.</p>
<h1 id="connect-your-backend-to-upstash-redis">Connect your backend to Upstash Redis</h1>
<p>In this short guide, you will learn how to integrate a Redis database into your project.</p>
<h2 id="step-1-create-a-new-genezio-project">Step 1: Create a new genezio project</h2>
<p>If you already have a genezio project deployed, you can skip to <a href="#step-2-initialize-an-upstash-redis-database">Step 2: Initialize an Upstash Redis database</a>.</p>
<p>Otherwise, you can create a new genezio project by running the following steps.</p>
<p>First, you have to install <code>genezio</code> from npmjs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">npm install genezio -g
</span></span></code></pre></div><p>Then, you can create a new genezio project by simply running <code>genezio</code> in your terminal:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">genezio
</span></span></code></pre></div><p>The <code>genezio</code> command will walk you through the process of creating a new genezio project.
Your terminal should look similar to the following snippets:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ genezio
</span></span><span class="line"><span class="cl">Redirecting to browser to complete authentication...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">? Choose a template for your genezio project Backend-Only
</span></span><span class="line"><span class="cl">Your project will start from the Backend-Only template.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">? Please enter a name for your project: getting-started-with-upstash
</span></span><span class="line"><span class="cl">Your project will be named getting-started-with-upstash.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">? Choose a region for your project US East (N. Virginia)
</span></span><span class="line"><span class="cl">Your project will be deployed in US East (N. Virginia).
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">? Please enter a name for your directory: getting-started-with-upstash
</span></span><span class="line"><span class="cl">We are creating the project in ./getting-started-with-upstash.
</span></span></code></pre></div><p>After the deployment is complete, you should see the following message in your terminal:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Your backend project has been deployed and is available at https://app.genez.io/project/&lt;project-id&gt;/&lt;environment-id&gt;
</span></span></code></pre></div><p>Navigate the link in your terminal to open your project page in the genezio dashboard.</p>
<h2 id="step-2-initialize-an-upstash-redis-database">Step 2: Initialize an Upstash Redis database</h2>
<p>Go to the <code>Integrations</code> tab and select to install the Upstash Redis integration:</p>
<p><img src="/images/blog/getting_started_upstash_images/image-3.png" alt="Alt text"></p>
<p>Connect with an Upstash account using the preferred login method:</p>
<p><img src="/images/blog/getting_started_upstash_images/image.png" alt="Alt text"></p>
<p>Create a Redis database or select an already existing database:</p>
<p><img src="/images/blog/getting_started_upstash_images/image-1.png" alt="Alt text"></p>
<p>Hit the <code>Save</code> button to set the database credentials as environment variables in your genezio project:</p>
<p><img src="/images/blog/getting_started_upstash_images/image-2.png" alt="Alt text"></p>
<h2 id="step-3-connect-your-backend-to-the-redis-database">Step 3: Connect your backend to the Redis database</h2>
<p>To connect to the Redis database from your NodeJs backend, create a new file called <code>redis.ts</code> in the root folder of your project.</p>
<p>The following code snippet creates a new class that will be a minimal Redis service. In the constructor, we initialize the Redis client using the <code>UPSTASH_REDIS_URL</code> environment variable. This variable is already set remotely in your project by the Upstash Redis integration.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">GenezioDeploy</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@genezio/types&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Redis</span> <span class="kr">from</span> <span class="s2">&#34;ioredis&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">@GenezioDeploy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">ShoppingCartService</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">client</span>: <span class="kt">Redis</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">UPSTASH_REDIS_URL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;UPSTASH_REDIS_URL is not set in the `.env` file.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Redis</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">UPSTASH_REDIS_URL</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="step-4-store-and-retrieve-data-from-redis">Step 4: Store and retrieve data from Redis</h2>
<p>Implement two methods to store and retrieve &lt;key, value&gt; pairs in the Redis database:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kd">@GenezioDeploy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">ShoppingCartService</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">client</span>: <span class="kt">Redis</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">UPSTASH_REDIS_URL</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;UPSTASH_REDIS_URL is not set in the `.env` file.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Redis</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">UPSTASH_REDIS_URL</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">addItemToCart</span><span class="p">(</span><span class="nx">cartId</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">productId</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">quantity</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">boolean</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">cartKey</span> <span class="o">=</span> <span class="sb">`cart:</span><span class="si">${</span><span class="nx">cartId</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">cartKey</span><span class="si">}</span><span class="sb">:</span><span class="si">${</span><span class="nx">productId</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// the rest of the implementation goes here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">getCartContents</span><span class="p">(</span><span class="nx">cartId</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Map</span><span class="err">&lt;</span><span class="na">string</span><span class="err">,</span> <span class="na">number</span><span class="p">&gt;</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">cartKey</span> <span class="o">=</span> <span class="sb">`cart:</span><span class="si">${</span><span class="nx">cartId</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">cartItems</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">cartKey</span><span class="si">}</span><span class="sb">:*`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// the rest of the implementation goes here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="step-5-test-your-redis-service">Step 5: Test your Redis service</h2>
<p>To locally test your Redis service, you have to use the copy button to add the environment variables to your clipboard.
Using the copy button will disclose the sensitive information from the environment variables.
Paste them in a <code>.env</code> file in the root folder of your project.</p>
<p>You can find the environment variables in the <code>Integrations</code> tab of your project page in the 



<a href="https://app.genez.io" target="_blank">dashboard</a>



.</p>
<p>The <code>.env</code> file should look similar to the following snippet:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">UPSTASH_REDIS_URL=&#34;redis://default:sensitivepassword@cute-capybara-33897.upstash.io:33897&#34;
</span></span><span class="line"><span class="cl">UPSTASH_REDIS_REST_URL=&#34;https://cute-capybara-33897.upstash.io&#34;
</span></span><span class="line"><span class="cl">UPSTASH_REDIS_REST_TOKEN=&#34;sensitivetoken&#34;
</span></span></code></pre></div><p>After setting the environment variables, you can test your Redis service by running the following command in your terminal:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">genezio <span class="nb">local</span>
</span></span></code></pre></div><p>Open the testing page in your browser by navigating to 



<a href="https://app.genez.io/test-interface/local?port=8083" target="_blank"><code>https://app.genez.io/test-interface/local?port=8083</code></a>



.</p>
<p>Here you can create and send a request to your backend to test if it works as expected.</p>
<h2 id="step-5-deploy-your-application">Step 5: Deploy your application</h2>
<p>After you tested your application, you can deploy it by running the following command in your terminal:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">genezio deploy
</span></span></code></pre></div><h1 id="now-available-in-the-genezio-dashboard">Now available in the genezio dashboard</h1>
<p>The integration with Upstash Redis is available today in the genezio dashboard.</p>
<p>It might not be perfect yet, but we prefer bringing you new features sooner, rather than later.
Your feedback in the early stages of feature development is essential to us as it helps improve the product to better suit your needs.</p>
<p>We&rsquo;re thrilled about the amazing use cases the Upstash Redis integration will enable and we can&rsquo;t wait to see what you&rsquo;ll put together with it.</p>
<p>Check out our 



<a href="https://genez.io/docs" target="_blank">documentation</a>



 and try the Upstash Redis integration today!
Let us know your thoughts and feedback through our 



<a href="https://app.genez.io" target="_blank">support chat</a>



 or on our 



<a href="https://discord.gg/uc9H5YKjXv" target="_blank">Discord server</a>



.</p>
</div>
      </div>
    </div>
  </div>
</div>

  </div>
  


  
  <div class="footer">
    <div class="container">
      <div class="row">
        <div class="col-12 col-md-6">
          <div class="footer-branding">
            <a class="footer-logo" href="/">
              <img width="140px" height="40px" alt="genezio Logo" src="/images/logo2.svg" />
            </a>
          </div>
          <div class="footer-description">
            <p>genezio is a new paradigm in cloud native programming, making it accessible to everyone, allowing elegant and quick development of websites, mobile apps, IoT apps, and many others.</p>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <div class="footer-menu d-md-flex">
            
              <div class="col-12 col-md-7">
                <h2 class="footer-title-support">Support</h3>
                <div class="menu-footer-tertiary">
                  <ul>
                    
                    
                    <li class="menu-item-contact us at: contact@genez.io">
                      <a href="mailto:contact@genez.io">
                        
                        <span>Contact us at: contact@genez.io</span>
                      </a>
                    </li>
                    
                    <li class="menu-item-privacy policy">
                      <a href="/privacy-policy/">
                        
                        <span>Privacy Policy</span>
                      </a>
                    </li>
                    
                    <li class="menu-item-terms &amp; conditions">
                      <a href="/eula/">
                        
                        <span>Terms &amp; Conditions</span>
                      </a>
                    </li>
                    
                    <li class="menu-item-brand assets">
                      <a href="https://drive.google.com/drive/folders/1DUTEllKJygFyO3lsHi4uu703iZfYQHB5?usp=sharing">
                        
                        <span>Brand Assets</span>
                      </a>
                    </li>
                    
                  </ul>
                </div>
              </div>
              
              
              <div class="col-12 col-md-6">
                <h2 class="footer-title-support">Product</h3>
                <div class="menu-footer-tertiary">
                  <ul>
                    
                    
                    <li>
                       <a target="_blank" href="https://docs.genez.io/genezio-documentation/">
        
        <span>Genezio Documentation</span>
      </a>
                    </li>
                    
                    <li>
                       <a  href="/full-stack-dart-application/">
        
        <span>Full Stack Dart App</span>
      </a>
                    </li>
                    
                    <li>
                       <a  href="/">
        
        <span>Landing Page</span>
      </a>
                    </li>
                    
                  </ul>
                </div>
              </div>
              
          </div>
        </div>
      </div>
      <div class="row">
        <div class="footer-social">
          <ul class="social">
            <li>
              <a href="https://www.facebook.com/profile.php?id=100086667803855" target="blank">
                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <title>Facebook icon</title>
                  <path
                    d="M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.408.593 24 1.324 24h11.494v-9.294H9.689v-3.621h3.129V8.41c0-3.099 1.894-4.785 4.659-4.785 1.325 0 2.464.097 2.796.141v3.24h-1.921c-1.5 0-1.792.721-1.792 1.771v2.311h3.584l-.465 3.63H16.56V24h6.115c.733 0 1.325-.592 1.325-1.324V1.324C24 .593 23.408 0 22.676 0" />
                </svg>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/Geneziodev" target="blank">
                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <title>Twitter icon</title>
                  <path
                    d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z" />
                </svg>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/company/genez-io/" target="blank">
                <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <title>LinkedIn icon</title>
                  <path
                    d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                </svg>
              </a>
            </li>
            <li>
              <a href="https://www.instagram.com/genezio.dev/" target="blank">
                <svg role="img" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                  <title>Instagram icon</title>
                  <path
                    d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path>
                </svg>
              </a>
            </li>
            <li>
              <a href="https://discord.com/invite/uc9H5YKjXv" target="blank">
                <svg role="img" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                  <title>Discord icon</title>
                  <path 
                    d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z">
                  </path>
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  


  
  
  
  

  

  
  <script type="text/javascript" src="/js/bundle.min.08dc218caff10a5b4c9aea8e3e9d15d68f0cd13f15fc9919363ce2f2e25af5f6.js"></script>
  
  
  
  <script type="text/javascript" id="hs-script-loader" async defer src="//js-eu1.hs-scripts.com/26189618.js"></script>
  
</body>
</html>